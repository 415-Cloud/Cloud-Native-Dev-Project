@startuml Workout Service - ER Diagram

!define TABLE entity
!define PRIMARY_KEY <<PK>>
!define FOREIGN_KEY <<FK>>
!define NOT_NULL <<NN>>
!define UNIQUE <<U>>

title Workout Service - Entity Relationship Diagram

entity "Workout" as workout {
  * id : SERIAL <<PK>>
  --
  * user_id : VARCHAR(255) <<NN>>
  * type : VARCHAR(50) <<NN>>
  distance : DECIMAL(10,2)
  * duration : INTEGER <<NN>>
  calories : INTEGER
  notes : TEXT
  created_at : TIMESTAMP
}

note right of workout
  **Workout Service Database**
  
  **Purpose**: Stores all workout data
  **Isolation**: Completely separate from other services
  **Consistency**: Single source of truth for workouts
  
  **Key Features**:
  - Tracks user activities
  - Stores workout metrics
  - Provides workout history
  - Publishes events to other services
end note

note bottom of workout
  **Indexes for Performance**:
  - idx_workouts_user_id (user lookups)
  - idx_workouts_type (activity filtering)
  - idx_workouts_created_at (time-based queries)
end note

@enduml

